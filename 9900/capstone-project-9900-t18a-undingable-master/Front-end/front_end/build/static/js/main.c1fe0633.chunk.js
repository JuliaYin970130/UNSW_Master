(this.webpackJsonpfront_end=this.webpackJsonpfront_end||[]).push([[0],{203:function(e,t,n){},204:function(e,t,n){},278:function(e,t,n){},279:function(e,t,n){},297:function(e,t,n){},300:function(e,t,n){},301:function(e,t,n){},302:function(e,t,n){},308:function(e,t,n){},309:function(e,t,n){},310:function(e,t,n){},312:function(e,t,n){},313:function(e,t,n){},314:function(e,t,n){},315:function(e,t,n){},316:function(e,t,n){},317:function(e,t,n){},318:function(e,t,n){},319:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(41),i=n.n(c),s=(n(203),n(25)),l=n(39),o=n(2),d=n(9),j=n(320),u=function(e){try{return JSON.parse(e)}catch(t){return null}},b=function(){return u(window.localStorage.getItem("loginState"))},m=function(e){delete e.password,window.localStorage.setItem("loginState",JSON.stringify(e))},h=function(e){return e?(e/100).toFixed(2):"??"},p=n(194),O=n(72),x=n(52),f=n(195),g=n(135),y=n(335),v=n(336),w=n(337),k=(n(204),n(4)),I=p.a.Search,S=j.a.Header,C=function(){var e=b(),t=Object(l.f)(),n=Object(k.jsx)(O.a,{children:e&&e.name?Object(k.jsxs)(r.Fragment,{children:[Object(k.jsx)(O.a.Item,{children:Object(k.jsx)(s.b,{to:"/user",children:Object(k.jsx)(x.a,{type:"text",children:e.name})})},"username"),e.role<=1?Object(k.jsx)(O.a.Item,{children:Object(k.jsx)(s.b,{to:"/admin",children:Object(k.jsx)(x.a,{type:"text",children:"Admin Dashboard"})})},"admin-dashboard"):null,0===e.role?Object(k.jsx)(O.a.Item,{children:Object(k.jsx)(s.b,{to:"/adminManage",children:Object(k.jsx)(x.a,{type:"text",children:"Manage Admin"})})},"admin-manage"):null,Object(k.jsx)(O.a.Item,{children:Object(k.jsx)(x.a,{onClick:function(){window.confirm("Do you want to logout?")&&(window.localStorage.removeItem("loginState"),window.location="/")},type:"text",children:"Logout"})},"log-off")]}):Object(k.jsxs)(r.Fragment,{children:[Object(k.jsx)(O.a.Item,{children:Object(k.jsx)(s.b,{to:"/login",children:Object(k.jsx)(x.a,{type:"text",children:"Sign in"})})},"sign-in"),Object(k.jsx)(O.a.Item,{children:Object(k.jsx)(s.b,{to:"/reg",children:Object(k.jsx)(x.a,{type:"text",children:"Register"})})},"sign-up")]})});return Object(k.jsxs)(S,{style:{position:"sticky",top:0,backgroundColor:"#fff",zIndex:999,width:"100vw",borderBottom:"1px solid #f0f0f0"},children:[Object(k.jsxs)(O.a,{mode:"horizontal",style:{position:"relative"},selectable:!1,children:[Object(k.jsx)(O.a.Item,{style:{fontSize:"20px"},children:Object(k.jsxs)(s.b,{to:"/",children:[Object(k.jsx)(y.a,{style:{fontSize:"20px",margin:"5px"}}),"Home"]})},"homepage"),Object(k.jsx)(O.a.Item,{style:{position:"absolute",right:"8%",fontSize:"16px"},children:Object(k.jsxs)(s.b,{to:"Cart",children:[Object(k.jsx)(v.a,{style:{fontSize:"16px",marginRight:"5px"}}),"Cart"]})},"Cart"),Object(k.jsx)(g.a,{overlay:n,placement:"bottomCenter",children:Object(k.jsxs)("a",{href:"/#",className:"link",onClick:function(e){return e.preventDefault()},style:{position:"absolute",right:0,fontSize:"16px",color:"#000"},children:[Object(k.jsx)(w.a,{style:{marginRight:"5px"}}),"Account"]})})]}),Object(k.jsx)(I,{placeholder:"Search",onSearch:function(e){console.log(e),e?t.push("/search?keyword=".concat(e)):f.b.error("Please check your search input!")},style:{position:"relative",left:"30%",top:"-46px",width:"400px"},enterButton:!0})]})},N=(n(278),["component"]),q=function(e){var t=e.component,n=Object(d.a)(e,N);return Object(k.jsx)(l.a,Object(o.a)(Object(o.a)({},n),{},{render:function(e){return Object(k.jsxs)(j.a,{children:[Object(k.jsx)(C,{}),Object(k.jsx)(j.a,{children:Object(k.jsx)(t,Object(o.a)({},e))})]})}}))},P=n(1),A=n(5),F=n(332),U=n(333),T=n(12),z=n(13),E=n(18),L=n(19),M=(n(279),function(e){Object(E.a)(n,e);var t=Object(L.a)(n);function n(){return Object(T.a)(this,n),t.apply(this,arguments)}return Object(z.a)(n,[{key:"render",value:function(){var e=this.props.itemData;return Object(k.jsx)(s.b,{to:"/itemInfo?id=".concat(e.id),children:Object(k.jsxs)("div",{className:"item-card",children:[Object(k.jsx)("img",{src:e.imgUrl,alt:"Aventus Creed for men"}),Object(k.jsxs)("div",{className:"item-info-block",children:[Object(k.jsx)("p",{className:"item-name",children:e.name}),Object(k.jsx)("p",{className:"brand",children:e.brand}),Object(k.jsxs)("p",{className:"sale",children:[e.saleNum.toLocaleString("en-US")," sold"]}),Object(k.jsxs)("p",{className:"stock",children:["Stock: ",e.stock]})]})]})})}}]),n}(r.Component)),R=n(136),H=n(60),D=n(38),B=n.n(D),_=n(191),G=function(e){var t=e.data;if(t&&200===t.code)return t.data;throw new Error("[".concat(t?t.code:"-1","]").concat(t?t.message:"Unknown biz server error"))},W=n.n(_).a.create({baseURL:"",headers:{"Content-Type":"application/x-www-form-urlencoded"}}),$=new Map,Y=function(){var e=Object(H.a)(B.a.mark((function e(){var t,n,r,a,c,i,s;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if($.size){e.next=7;break}return e.next=3,W.get("/product/Sale");case 3:t=e.sent,n=G(t),r=Object(R.a)(n);try{for(r.s();!(a=r.n()).done;)c=a.value,i=c.productid,s=c.salenum,$.set(i,s)}catch(l){r.e(l)}finally{r.f()}case 7:return e.abrupt("return",$);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),V=function(){var e=Object(H.a)(B.a.mark((function e(t,n){var r,a,c,i,s,l,d,j;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t||!t.price){e.next=7;break}return a=t.price.split(":"),c=Object(A.a)(a,2),i=c[0],s=c[1],e.next=4,W.get("/product/viewByPriceRange",{params:{low_price:100*i,high_price:100*s}});case 4:r=e.sent,e.next=19;break;case 7:if(n||t&&Object.entries(t).length){e.next=16;break}return e.next=10,b();case 10:return l=e.sent,e.next=13,W.get("/product/recommend",{params:{id:l&&l.id||0,top_k:50}});case 13:r=e.sent,e.next=19;break;case 16:return e.next=18,W.get("/product/view",{params:t});case 18:r=e.sent;case 19:return e.next=21,G(r);case 21:return d=e.sent,e.next=24,Y();case 24:return j=e.sent,e.abrupt("return",d.map((function(e){return Object(o.a)(Object(o.a)({},e),{},{saleNum:j.get(e.id)})})));case 26:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Q=(n(297),O.a.SubMenu),J=j.a.Content,K=j.a.Sider,X=[{key:"gender",title:"Gender",valueMap:{Women:"Women",Men:"Men",Unisex:"Unisex"}},{key:"brand",title:"Top Brand",valueMap:{BVLGARI:"BVLGARI",Chanel:"Chanel",Creed:"Creed","Calvin Klein":"Calvin Klein",Dior:"Dior",Gucci:"Gucci",Guerlain:"Guerlain",HERMAS:"HERMAS","Tom Ford":"Tom Ford"}},{key:"scentNotes",title:"Scent Notes",valueMap:{Amber:"Amber",Citrus:"Citrus",Floral:"Floral",Fresh:"Fresh",Fruity:"Fruity",Oriental:"Oriental",Rum:"Rum",Spice:"Spice",Woody:"Woody"}},{key:"price",title:"Price",valueMap:{"15:50":"AU $15 - 50","50:200":"AU $50 - 200","200:500":"AU $200 - 500"}}],Z=function(){var e=Object(r.useState)({}),t=Object(A.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)([]),i=Object(A.a)(c,2),s=i[0],o=i[1],d=Object(l.g)();return Object(r.useEffect)((function(){Object.entries(n).length&&a({})}),[d]),Object(r.useEffect)((function(){V(n).then((function(e){console.log("items",e),o(e)})).catch((function(e){console.error(e),f.b.error(e&&e.message||"Unknown error")}))}),[n]),Object(k.jsxs)(r.Fragment,{children:[Object(k.jsx)(K,{width:200,className:"site-layout-background",style:{overflowY:"auto",height:"100%",position:"fixed",left:0},children:Object(k.jsx)(O.a,{mode:"inline",defaultOpenKeys:X.map((function(e){return"sub-".concat(e.key)})),style:{borderRight:0},children:X.map((function(e){return Object(k.jsx)(Q,{title:e.title,style:{fontSize:"16px"},children:Object.entries(e.valueMap).map((function(t){var n=Object(A.a)(t,2),r=n[0],c=n[1];return Object(k.jsx)(O.a.Item,{onClick:function(){return a(Object(P.a)({},e.key,r))},children:c},r)}))},"sub-".concat(e.key))}))})}),Object(k.jsxs)(j.a,{style:{marginLeft:200},children:[Object(k.jsxs)(F.a,{style:{margin:"30px 25px 10px"},children:[Object(k.jsx)(F.a.Item,{children:"Home"}),Object(k.jsx)(F.a.Item,{children:"Products"})]}),Object(k.jsx)(J,{style:{padding:24,height:"100%",minHeight:"90vh",overflowY:"auto"},children:Object(k.jsx)(U.b,{size:"large",wrap:!0,children:s.map((function(e){return Object(k.jsx)(M,{itemData:e},"HomeItemList-"+e.id)}))})})]})]})},ee=n(36),te=n.n(ee),ne=function(){return W.get("/user/queryList").then(G)},re=function(e){return W.post("/user/register",te.a.stringify(e)).then(G)},ae=function(e){return W.post("/questionnaire/insert",te.a.stringify(e)).then(G)},ce=function(e){return W.post("/questionnaire/update",te.a.stringify(e)).then(G)},ie=n(324),se=n(326),le=n(101),oe=(n(300),function(){var e=Object(l.f)();return Object(k.jsx)("div",{id:"login-page",children:Object(k.jsx)(ie.a,{id:"login-box",title:"Log In",children:Object(k.jsx)("div",{id:"login-box-body",children:Object(k.jsxs)(se.a,{name:"basic",labelCol:{span:8},wrapperCol:{span:16},initialValues:{remember:!0},onFinish:function(t){var n,r=t.username,a=t.password;return(n={name:r,password:a,role:2},W.post("/user/login",te.a.stringify(n)).then(G)).then((function(t){m(t),e.push("/")})).catch((function(e){console.error(e),f.b.error(e&&e.message||"Unknown error")}))},autoComplete:"off",children:[Object(k.jsx)(se.a.Item,{label:"Username",name:"username",rules:[{required:!0,message:"Please input your username!"}],children:Object(k.jsx)(p.a,{})}),Object(k.jsx)(se.a.Item,{label:"Password",name:"password",rules:[{required:!0,message:"Please input your password!"}],children:Object(k.jsx)(p.a.Password,{})}),Object(k.jsx)(se.a.Item,{name:"remember",valuePropName:"checked",wrapperCol:{offset:8,span:16},children:Object(k.jsx)(le.a,{children:"Remember me"})}),Object(k.jsx)(se.a.Item,{wrapperCol:{offset:8,span:16},children:Object(k.jsxs)("div",{id:"login-btn-wrapper",children:[Object(k.jsx)(x.a,{id:"login-button",type:"primary",htmlType:"submit",children:"Log In"}),Object(k.jsx)(s.b,{to:"/",className:"skip",children:Object(k.jsx)(x.a,{children:"Back"})})]})}),Object(k.jsx)(se.a.Item,{wrapperCol:{offset:8,span:16},style:{marginBottom:0},children:Object(k.jsx)(s.b,{to:"/reg",id:"login-reg-link",children:Object(k.jsx)(x.a,{type:"link",children:"New! Register Here!"})})})]})})})})}),de=(n(301),function(){var e=Object(l.f)();return Object(k.jsx)(j.a,{children:Object(k.jsxs)("div",{id:"reg-page",children:[Object(k.jsx)(ie.a,{id:"reg-box",title:"Register",children:Object(k.jsx)("div",{id:"reg-box-body",children:Object(k.jsxs)(se.a,{name:"basic",labelCol:{span:8},wrapperCol:{span:16},initialValues:{remember:!0},onFinish:function(t){var n=t.username,r=t.email,a=t.password;if(a===t.confirmPassword)return re({name:n,email:r,password:a,role:2}).then((function(t){m(t),e.push("/questionaire")})).catch((function(e){console.error(e),f.b.error(e&&e.message||"Unknown error")}));f.b.error("password and confirm-password is not same!")},autoComplete:"off",style:{width:"100%"},children:[Object(k.jsx)(se.a.Item,{label:"Username",name:"username",rules:[{required:!0,message:"Please input your username!"}],children:Object(k.jsx)(p.a,{})}),Object(k.jsx)(se.a.Item,{label:"E-Mail",name:"email",rules:[{required:!0,message:"Please input your e-mail!"}],children:Object(k.jsx)(p.a,{type:"email"})}),Object(k.jsx)(se.a.Item,{label:"Password",name:"password",rules:[{required:!0,message:"Please input your password!"}],children:Object(k.jsx)(p.a.Password,{})}),Object(k.jsx)(se.a.Item,{label:"Confirm Password",name:"confirmPassword",rules:[{required:!0,message:"Please input your confirm password!"}],children:Object(k.jsx)(p.a.Password,{})}),Object(k.jsx)(se.a.Item,{wrapperCol:{offset:8,span:16},children:Object(k.jsx)(x.a,{id:"login-button",type:"primary",htmlType:"submit",children:"Submit"})})]})})}),Object(k.jsx)("div",{className:"reg-bottom",children:Object(k.jsx)(s.b,{to:"/",children:Object(k.jsx)("div",{className:"reg-bottom-btn",children:"Skip and Visit"})})})]})})}),je=n(7),ue=n(115),be=n(321),me=n(323),he=n(329),pe=n(146),Oe=n(338),xe=(n(302),function(){var e=j.a.Content,t=ue.a.Option,n=Object(r.useState)([]),a=Object(A.a)(n,2),c=a[0],i=a[1],l=Object(r.useState)([]),d=Object(A.a)(l,2),u=d[0],b=d[1];Object(r.useEffect)((function(){V({},!0).then((function(e){i(e.map((function(e){return Object(o.a)(Object(o.a)({},e),{},{key:"item-".concat(e.id)})})))})).catch((function(e){f.b.error("[GetItemList Failed] ".concat(e.message))}))}),[]),Object(r.useEffect)((function(){ne().then((function(e){b(e.map((function(e){return Object(o.a)(Object(o.a)({},e),{},{key:"user-".concat(e.id)})})))})).catch((function(e){f.b.error("[GetUserList Failed] ".concat(e.message))}))}),[]);var m=[{title:"Item ID",dataIndex:"id",key:"id",render:function(e){return Object(k.jsx)(s.b,{to:"/itemManage?id=".concat(e),children:e})}},{title:"Item Name",dataIndex:"name",key:"name"},{title:"Brand",dataIndex:"brand",key:"brand"},{title:"Stock",dataIndex:"stock",key:"stock"},{title:"Sales",dataIndex:"saleNum",key:"saleNum"},{title:"Action",key:"action",render:function(e){return Object(k.jsx)(Oe.a,{onClick:function(){h(e)},style:{marginLeft:"30%"}})}}],h=function(e){i((function(t){return t.filter((function(t){return t.key!==e.key}))}))},O=Object(r.useState)(!1),g=Object(A.a)(O,2),y=g[0],v=g[1],w=se.a.useForm(),I=Object(A.a)(w,1)[0];return Object(k.jsxs)(e,{className:"AdminContainer",style:{padding:"0 50px",minHeight:"95vh"},children:[Object(k.jsxs)("div",{className:"item-list",children:[Object(k.jsx)("h2",{children:"Item List"}),Object(k.jsx)(be.a,{}),Object(k.jsx)(me.a,{columns:m,dataSource:c,size:"middle",pagination:{pageSize:10,size:"small"}}),Object(k.jsx)(x.a,{type:"primary",onClick:function(){v(!0)},children:"Add a new item"}),Object(k.jsx)(he.a,{title:"Add a new item",visible:y,style:{top:60},onCancel:function(){v(!1)},okText:"Confirm",onOk:function(){I.validateFields().then((function(e){I.resetFields(),function(e){console.log("Received values of form: ",e);var t={key:c.length+1,itemID:56332998,itemName:e.itemName,Brand:e.brand,Stock:e.stock,Sales:0};i((function(e){return[].concat(Object(je.a)(e),[t])})),v(!1)}(e)})).catch((function(e){console.error(e),f.b.error(e&&e.message||"Unknown error")}))},children:Object(k.jsxs)(se.a,Object(o.a)(Object(o.a)({form:I,name:"add_item"},{labelCol:{span:6},wrapperCol:{span:14}}),{},{children:[Object(k.jsx)(se.a.Item,{name:"itemName",label:"Item name",rules:[{required:!0,message:"Please input item name!"}],children:Object(k.jsx)(p.a,{type:"textarea"})}),Object(k.jsx)(se.a.Item,{name:"brand",label:"Brand",rules:[{required:!0,message:"Please input brand!"}],children:Object(k.jsx)(p.a,{type:"textarea"})}),Object(k.jsx)(se.a.Item,{name:"gender",label:"Gender",rules:[{required:!0,message:"Please select gender!"}],children:Object(k.jsxs)(pe.a.Group,{children:[Object(k.jsx)(pe.a,{value:"women",children:"Women"}),Object(k.jsx)(pe.a,{value:"men",children:"Men"}),Object(k.jsx)(pe.a,{value:"unisex",children:"Unisex"})]})}),Object(k.jsx)(se.a.Item,{name:"scentNotes",label:"Scent Notes",rules:[{required:!0,message:"Please select item scent notes!"}],children:Object(k.jsxs)(ue.a,{children:[Object(k.jsx)(t,{value:"Amber",children:"Amber"}),Object(k.jsx)(t,{value:"Citrus",children:"Citrus"}),Object(k.jsx)(t,{value:"Floral",children:"Floral"}),Object(k.jsx)(t,{value:"Fresh",children:"Fresh"}),Object(k.jsx)(t,{value:"Fruity",children:"Fruity"}),Object(k.jsx)(t,{value:"Oriental",children:"Oriental"}),Object(k.jsx)(t,{value:"Rum",children:"Rum"}),Object(k.jsx)(t,{value:"Spice",children:"Spice"}),Object(k.jsx)(t,{value:"Woody",children:"Woody"})]})}),Object(k.jsx)(se.a.Item,{name:"price",label:"Price",rules:[{required:!0,message:"Please input price!"}],children:Object(k.jsx)(p.a,{type:"textarea"})}),Object(k.jsx)(se.a.Item,{name:"size",label:"Size",rules:[{required:!0,message:"Please input size!"}],children:Object(k.jsx)(p.a,{type:"textarea"})}),Object(k.jsx)(se.a.Item,{name:"imgUrl",label:"Image Url",rules:[{required:!0,message:"Please input Image Url!"}],children:Object(k.jsx)(p.a,{type:"textarea"})}),Object(k.jsx)(se.a.Item,{name:"stock",label:"Stock",rules:[{required:!0,message:"Please input stock!"}],children:Object(k.jsx)(p.a,{type:"textarea"})}),Object(k.jsx)(se.a.Item,{name:"description",label:"Description",rules:[{required:!0,message:"Please input Description!"}],children:Object(k.jsx)(p.a.TextArea,{})})]}))})]}),Object(k.jsxs)("div",{className:"user-list",children:[Object(k.jsx)("h2",{children:"User List"}),Object(k.jsx)(be.a,{}),Object(k.jsx)(me.a,{columns:[{title:"User ID",dataIndex:"id",key:"id"},{title:"User Name",dataIndex:"name",key:"name"},{title:"Email",dataIndex:"email",key:"email"},{title:"Phone",dataIndex:"phone",key:"phone"}],dataSource:u,size:"middle",pagination:{pageSize:10,size:"small"}})]})]})}),fe=(n(308),function(){var e=Object(r.useState)(""),t=Object(A.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)(""),i=Object(A.a)(c,2),l=i[0],d=i[1],u=Object(r.useState)([]),O=Object(A.a)(u,2),g=O[0],y=O[1],v=Object(r.useMemo)((function(){return b()}),[]);Object(r.useEffect)((function(){var e;(e=v.id,W.get("/order/view",{params:{user_id:e}}).then(G)).then((function(e){y(e)})).catch((function(e){f.b.error(e.message)}));var t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=/(\+\d{2})\d+/.exec(e),n=t&&t[1]||"";return[n,e?e.replace(n,""):""]}(v.phone),n=Object(A.a)(t,2),r=n[0],c=n[1];a(r),d(c)}),[v]);var w=j.a.Content,I=ue.a.Option,S={labelCol:{span:7},wrapperCol:{span:16}},C=Object(k.jsx)(se.a.Item,{noStyle:!0,children:Object(k.jsxs)(ue.a,{value:n,onChange:function(e){return a(e)},style:{width:100},children:[Object(k.jsx)(I,{value:"+61",children:Object(k.jsxs)("div",{className:"prefixFlag",children:[Object(k.jsx)("img",{src:"https://flagcdn.com/16x12/au.png",srcSet:"https://flagcdn.com/32x24/au.png 2x,https://flagcdn.com/48x36/au.png 3x",width:"16",height:"12",alt:"Austrlia"}),Object(k.jsx)("span",{children:"+61"})]})}),Object(k.jsx)(I,{value:"+86",children:Object(k.jsxs)("div",{className:"prefixFlag",children:[Object(k.jsx)("img",{src:"https://flagcdn.com/16x12/cn.png",srcSet:"https://flagcdn.com/32x24/cn.png 2x,https://flagcdn.com/48x36/cn.png 3x",width:"16",height:"12",alt:"China"}),Object(k.jsx)("span",{children:"+86"})]})})]})}),N=[{title:"Order ID",dataIndex:"orderId",key:"orderId"},{title:"Order Date",dataIndex:"orderTime",key:"orderTime"},{title:"Total",dataIndex:"totalPrice",key:"totalPrice"},{title:"Action",dataIndex:"orderId",key:"action",render:function(e){return Object(k.jsx)(s.b,{to:"/eval?orderId=".concat(e),children:"Evaluate"})}}];return Object(k.jsxs)(w,{className:"user-container",style:{padding:"0 50px",marginTop:64,minHeight:700},children:[Object(k.jsxs)("div",{className:"user-profile",children:[Object(k.jsx)("h2",{children:"Profile"}),Object(k.jsx)(be.a,{orientation:"left",children:"Profile Update"}),Object(k.jsxs)(se.a,Object(o.a)(Object(o.a)({},S),{},{className:"user-form",name:"nest-messages",validateMessages:{required:"${label} is required!",types:{email:"${label} is not a valid email!",number:"${label} is not a valid number!"}},initialValues:v,onFinish:function(e){var t,r=Object(o.a)(Object(o.a)(Object(o.a)({},v),e),{},{phone:n+l});(t=r,W.post("/user/updateProfile",te.a.stringify(t)).then(G)).then((function(e){m(r),f.b.success("Success!")})).catch((function(e){f.b.error(e.message)}))},children:[Object(k.jsx)(se.a.Item,{name:"name",label:"User Name",rules:[{required:!0}],children:Object(k.jsx)(p.a,{})}),Object(k.jsx)(se.a.Item,{name:"email",label:"Email",rules:[{type:"email",message:"The input is not valid E-mail!"},{required:!0,message:"Please input your E-mail!"}],children:Object(k.jsx)(p.a,{})}),Object(k.jsx)(se.a.Item,{label:"Phone Number",rules:[{required:!0,message:"Please input your phone number!"}],children:Object(k.jsx)(p.a,{addonBefore:C,value:l,onChange:function(e){var t=e.target.value;d(t)},style:{width:"100%"}})}),Object(k.jsx)(se.a.Item,{name:"address",label:"Address",rules:[{required:!0,message:"Please input your Address!"}],children:Object(k.jsx)(p.a,{})}),Object(k.jsx)(se.a.Item,{wrapperCol:Object(o.a)(Object(o.a)({},S.wrapperCol),{},{offset:7}),children:Object(k.jsx)(x.a,{type:"primary",htmlType:"submit",children:"Update"})})]})),Object(k.jsx)(be.a,{orientation:"left",children:"Questionnaire"}),Object(k.jsx)(s.b,{to:"/questionaire",children:Object(k.jsx)(x.a,{type:"primary",htmlType:"submit",style:{marginLeft:30},children:"Update / Fill in the Questionnaire"})})]}),Object(k.jsxs)("div",{className:"user-order",children:[Object(k.jsx)("h2",{children:"Order List"}),Object(k.jsx)(me.a,{columns:N,dataSource:g.map((function(e){return Object(o.a)(Object(o.a)({},e),{},{key:e.orderId,orderTime:new Date(e.orderTime).toLocaleString(),totalPrice:"AU$"+h(e.totalPrice)})})),size:"middle",pagination:{pageSize:8,size:"small"}})]})]})}),ge=n(327),ye=n(328),ve=(n(309),function(){var e=Object(l.f)(),t=Object(r.useState)([]),n=Object(A.a)(t,2),a=n[0],c=n[1],i=Object(r.useCallback)((function(){var t,n=b();if(n)return(t=n.id,W.get("/shoppingCart/view",{params:{id:t}}).then(G)).then((function(e){c(e.map((function(e){return Object(o.a)(Object(o.a)({},e),{},{checked:!0})})))})).catch((function(e){f.b.error(e.message)}));e.push("/login")}),[e]),d=function(t,n){var r=b();if(r){var a=0===n?function(e,t){return W.post("/shoppingCart/delete",te.a.stringify({user_id:e,product_id:t})).then(G)}(r.id,t):function(e,t,n){return W.post("/shoppingCart/quantity",te.a.stringify({user_id:e,quantity:n,product_id:t})).then(G)}(r.id,t,n);a.then((function(){i()})).catch((function(e){f.b.error(e.message)}))}else e.push("/login")},j=Object(r.useMemo)((function(){return a.reduce((function(e,t){return e+t.product.price*(t.quantity||1)}),0)}),[a]);return Object(r.useEffect)((function(){i()}),[i]),Object(k.jsx)("div",{id:"cart-page",children:Object(k.jsxs)(ie.a,{id:"cart-box",children:[Object(k.jsx)("h1",{id:"head",children:"Cart"}),a.length?Object(k.jsxs)("div",{id:"cart-box-body",children:[a.map((function(e,t){return Object(k.jsxs)("div",{className:"checkout-1",children:[Object(k.jsx)("div",{className:"item-1",children:Object(k.jsx)(le.a,{checked:e.checked,onChange:function(e){var n=e.target.checked,r=Object(je.a)(a);r[t].checked=n,c(r)},children:Object(k.jsx)(ge.a,{width:80,src:e.product.imgUrl})})}),Object(k.jsxs)(s.b,{className:"item-2",to:"/itemInfo?id=".concat(e.product.id),children:[Object(k.jsx)("span",{className:"itemName",children:e.product.name}),Object(k.jsxs)("span",{children:["Size: ",e.product.size,"ml"]})]}),Object(k.jsxs)("div",{className:"item-3",children:[Object(k.jsxs)("span",{className:"price",children:[Object(k.jsx)("small",{children:"AU$"}),h(e.product.price)]}),Object(k.jsx)("span",{style:{margin:10},children:" x "}),Object(k.jsx)(ye.a,{min:0,value:e.quantity,onChange:function(t){return d(e.product.id,t)}})]})]})})),Object(k.jsxs)("div",{className:"checkout-2",children:[Object(k.jsx)("div",{}),Object(k.jsx)("div",{}),Object(k.jsx)("h1",{children:"Total:"}),Object(k.jsxs)("div",{className:"total-price",children:[Object(k.jsx)("small",{children:"AU$"}),h(j)]})]}),Object(k.jsxs)("div",{className:"checkout-3",children:[Object(k.jsx)("div",{}),Object(k.jsx)("div",{children:Object(k.jsx)(s.b,{to:"/",className:"skip",children:Object(k.jsx)(x.a,{id:"skip-btn",children:"Back"})})}),Object(k.jsx)("div",{}),Object(k.jsx)("div",{children:Object(k.jsx)(x.a,{id:"checkout-button",type:"primary",onClick:function(){e.push("/checkout?itemList=".concat(encodeURIComponent(JSON.stringify(a.map((function(e){return e.checked?{id:e.product.id,name:e.product.name,price:e.product.price,quantity:e.quantity}:null})).filter((function(e){return e}))))))},children:"Check out"})})]})]}):Object(k.jsxs)("div",{id:"cart-box-body-empty",children:[Object(k.jsx)("span",{className:"cart-empty-text",children:"There is no items."}),Object(k.jsx)(s.b,{to:"/",className:"skip",children:Object(k.jsx)(x.a,{id:"skip-btn",children:"Back to Home"})})]})]})})}),we=n(325),ke=n(142),Ie=n(102),Se=n(66),Ce=(n(310),we.a.Title),Ne=function(){var e=Object(r.useState)(!1),t=Object(A.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)({price:{lower:1,upper:1e3}}),i=Object(A.a)(c,2),o=i[0],d=i[1],j=Object(l.f)(),u=function(){var e=Object(H.a)(B.a.mark((function e(t){var n,r;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((n=b())&&n.id){e.next=4;break}return f.b.error("You must be logined!"),e.abrupt("return");case 4:return console.log("Questionaire values",t),e.prev=5,r=o.forwho?ce:ae,e.next=9,r({userid:n.id,family:t.family,forwho:t.forwho,brand:t.brand,lowerprice:t.price.lower,higherprice:t.price.upper});case 9:j.push("/"),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(5),f.b.error("Error: ".concat(e.t0.message));case 15:case"end":return e.stop()}}),e,null,[[5,12]])})));return function(t){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){var e,t=b();t?(a(!0),(e=t.id,W.get("/questionnaire/get",{params:{userid:e}}).then(G).then((function(e){return Array.isArray(e)&&e[0]||null}))).then((function(e){e&&d({family:e.family,forwho:e.forwho,brand:e.brand,price:{upper:e.higherprice,lower:e.lowerprice}}),a(!1)})).catch((function(e){f.b.error(e.message),a(!1)}))):j.push("/login")}),[j]),n?Object(k.jsx)("div",{id:"quest-page",children:Object(k.jsx)(ke.a,{})}):Object(k.jsxs)("div",{id:"quest-page",children:[Object(k.jsx)(Ce,{children:"Welcome to UD fragrance !"}),Object(k.jsx)(Ce,{level:4,children:"Please fill the questionaire, then it will generate your stylish frangrance "}),Object(k.jsx)(be.a,{}),Object(k.jsxs)(se.a,{name:"basic",layout:"vertical",labelCol:{span:10},wrapperCol:{span:20},onFinish:u,initialValues:o,autoComplete:"off",style:{width:"100%",marginTop:20},children:[Object(k.jsx)(se.a.Item,{label:"Who will use it?",name:"forwho",rules:[{required:!0,message:"This quesition is required!"}],children:Object(k.jsxs)(pe.a.Group,{children:[Object(k.jsx)(pe.a,{value:"her",children:"her"}),Object(k.jsx)(pe.a,{value:"him",children:"him"})]})}),Object(k.jsx)(se.a.Item,{label:"What frangrance family you would like?",name:"family",rules:[{required:!0,message:"This quesition is required!"}],children:Object(k.jsxs)(pe.a.Group,{children:[Object(k.jsx)(pe.a,{value:"Floral",children:"Floral"}),Object(k.jsx)(pe.a,{value:"Amber",children:"Amber"}),Object(k.jsx)(pe.a,{value:"Woody",children:"Woody"}),Object(k.jsx)(pe.a,{value:"Fresh",children:"Fresh"}),Object(k.jsx)(pe.a,{value:"Fruity",children:"Fruity"}),Object(k.jsx)(pe.a,{value:"Oriental",children:"Oriental"}),Object(k.jsx)(pe.a,{value:"Rum",children:"Rum"}),Object(k.jsx)(pe.a,{value:"Spice",children:"Spice"})]})}),Object(k.jsx)(se.a.Item,{label:"Which of the following brands do you like or are familiar with?",name:"brand",rules:[{required:!0,message:"This quesition is required!"}],children:Object(k.jsx)(pe.a.Group,{children:Object(k.jsxs)(Ie.a,{children:[Object(k.jsx)(Se.a,{span:8,children:Object(k.jsx)(pe.a,{value:"BVLGARI",children:"BVLGARI"})}),Object(k.jsx)(Se.a,{span:8,children:Object(k.jsx)(pe.a,{value:"Chanel",children:"Chanel"})}),Object(k.jsx)(Se.a,{span:8,children:Object(k.jsx)(pe.a,{value:"Creed",children:"Creed"})}),Object(k.jsx)(Se.a,{span:8,children:Object(k.jsx)(pe.a,{value:"Calvin Klein",children:"Calvin Klein"})}),Object(k.jsx)(Se.a,{span:8,children:Object(k.jsx)(pe.a,{value:"Gucci",children:"Gucci"})}),Object(k.jsx)(Se.a,{span:8,children:Object(k.jsx)(pe.a,{value:"Guerlain",children:"Guerlain"})}),Object(k.jsx)(Se.a,{span:8,children:Object(k.jsx)(pe.a,{value:"HERMAS",children:"HERMAS"})}),Object(k.jsx)(Se.a,{span:8,children:Object(k.jsx)(pe.a,{value:"Tom Ford",children:"Tom Ford"})})]})})}),Object(k.jsx)(se.a.Item,{label:"Your budget range is?",required:!0,children:Object(k.jsxs)(U.b,{children:[Object(k.jsx)("span",{children:"From"}),Object(k.jsx)(se.a.Item,{name:["price","lower"],noStyle:!0,rules:[{required:!0,message:"This quesition is required!"}],children:Object(k.jsx)(ye.a,{})}),Object(k.jsx)("span",{children:"to"}),Object(k.jsx)(se.a.Item,{name:["price","upper"],noStyle:!0,rules:[{required:!0,message:"This quesition is required!"}],children:Object(k.jsx)(ye.a,{})})]})}),Object(k.jsx)(se.a.Item,{wrapperCol:{offset:10,span:16},children:Object(k.jsxs)("div",{id:"quest-btn-wrapper",children:[Object(k.jsx)(x.a,{type:"primary",htmlType:"submit",children:"Submit"}),Object(k.jsx)(s.b,{to:"/",className:"skip",children:Object(k.jsx)(x.a,{type:"link",children:"Skip"})})]})})]})]})},qe=n(113),Pe=n.n(qe),Ae=n(55),Fe=n(330),Ue=n(334),Te=n(322),ze=function(e){return W.get("/comment/viewByProduct",{params:{product_id:e}}).then(G)},Ee=function(e,t,n,r){return W.post("/comment/addOrUpdate",te.a.stringify({order_id:e,product_id:t,stars:n,comment:r})).then(G)},Le=(n(312),j.a.Content),Me=function(){var e=Object(l.f)(),t=Object(l.g)(),n=te.a.parse(t.search.replace("?","")),a=n&&n.id,c=Object(r.useState)(null),i=Object(A.a)(c,2),s=i[0],o=i[1],d=Object(r.useState)([]),j=Object(A.a)(d,2),u=j[0],m=j[1],p=Object(r.useState)(1),O=Object(A.a)(p,2),g=O[0],y=O[1],v=function(){var t=b();t?function(e,t,n){return W.post("/shoppingCart/add",te.a.stringify({user_id:e,quantity:n,product_id:t})).then(G)}(t.id,a,g).then((function(){y(1),e.push("/cart")})).catch((function(e){f.b.error(e.message)})):e.push("/login")};if(Object(r.useEffect)((function(){a&&Promise.all([V({id:a}),ze(a)]).then((function(e){var t=Object(A.a)(e,2),n=Object(A.a)(t[0],1)[0],r=t[1];o(n),m(r)})).catch((function(e){console.error(e),f.b.error("Query Error: ".concat(e.message))}))}),[a]),!a)return Object(k.jsx)(Le,{style:{marginTop:"64px",padding:"0 50px",minHeight:"100vh"},children:Object(k.jsx)("h1",{children:"Error: no itemId by router"})});if(!s)return Object(k.jsx)(Le,{style:{marginTop:"64px",padding:"0 50px",minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center"},children:Object(k.jsx)(ke.a,{})});var w=u.map((function(e){return e.stars})).filter((function(e){return e})),I=w.reduce((function(e,t){return e+t}),0)/w.length,S=u.map((function(e){return e&&e.comment&&e.stars?{author:e.user.name,avatar:"https://joeschmoe.io/api/v1/random",content:Object(k.jsx)("p",{children:e.comment}),datetime:Object(k.jsx)(Ae.a,{title:Pe()().subtract(1,"days").format("YYYY-MM-DD HH:mm:ss"),children:Object(k.jsx)("span",{children:Pe()().subtract(1,"days").fromNow()})})}:null})).filter((function(e){return e}));return Object(k.jsxs)(Le,{style:{padding:"0 50px",minHeight:"100vh"},children:[Object(k.jsxs)(F.a,{style:{margin:"16px 0"},children:[Object(k.jsx)(F.a.Item,{children:"Home"}),Object(k.jsx)(F.a.Item,{children:"Products"}),Object(k.jsx)(F.a.Item,{children:"item"})]}),Object(k.jsxs)("div",{className:"item-contanier",children:[Object(k.jsxs)("div",{className:"top-container",children:[Object(k.jsx)("div",{className:"item-img",children:Object(k.jsx)(ge.a,{width:250,src:s.imgUrl})}),Object(k.jsxs)("div",{className:"basicinfo",children:[Object(k.jsx)("p",{className:"item-name",children:s.name}),Object(k.jsxs)("h3",{children:["Brand: ",s.brand," "]}),Object(k.jsxs)("p",{children:["Size: ",s.size,"ml "]}),Object(k.jsx)(Fe.a,{disabled:!0,value:I}),Object(k.jsxs)("span",{className:"sales",children:[" (",s.saleNum.toLocaleString("en-US")," sold) "]}),Object(k.jsxs)("div",{className:"price",children:["AU$",h(s.price)]}),Object(k.jsxs)("div",{className:"quantity",children:[Object(k.jsx)("span",{children:"Quantity: "}),Object(k.jsx)(ye.a,{min:1,max:1e3,value:g,onChange:function(e){return y(e)}}),g<=s.stock?Object(k.jsx)("span",{style:{margin:"10px 10px",color:"#90be6d"},children:" (Available in Stock!) "}):Object(k.jsx)("span",{style:{margin:"10px 10px",color:"#FF5000"},children:" (Out Stock!) "})]}),Object(k.jsx)(x.a,{type:"primary",style:{margin:"10px 10px 10px 0"},onClick:function(){return v()},children:"Add to Cart"}),Object(k.jsx)(x.a,{type:"primary",onClick:function(){e.push("/checkout?itemList=".concat(encodeURIComponent(JSON.stringify([{id:s.id,name:s.name,price:s.price,quantity:g}]))))},children:"Buy Now"})]})]}),Object(k.jsxs)("div",{className:"bottom-container",children:[Object(k.jsx)("div",{className:"description",children:Object(k.jsxs)(ie.a,{title:"Description",bordered:!1,className:"card",style:{fontSize:"15px"},children:[Object(k.jsxs)("p",{children:[Object(k.jsx)("b",{children:"Scent Note:"})," ",s.scentNotes]}),Object(k.jsxs)("p",{children:[Object(k.jsx)("b",{children:"Grender:"})," ",s.gender]}),Object(k.jsx)("p",{children:s.description})]})}),Object(k.jsx)("div",{className:"comments",children:Object(k.jsx)(Ue.b,{className:"comment-list",header:"".concat(S.length," replies"),itemLayout:"horizontal",dataSource:S,renderItem:function(e){return Object(k.jsx)("li",{children:Object(k.jsx)(Te.a,{actions:e.actions,author:e.author,avatar:e.avatar,content:e.content,datetime:e.datetime})})}})})]})]})]})},Re=n(144),He=(n(313),function(e){var t=e.keyword,n=Object(r.useState)(0),a=Object(A.a)(n,2),c=a[0],i=a[1],s=Object(r.useState)(10),l=Object(A.a)(s,2),o=l[0],d=l[1],j=Object(r.useState)(!0),b=Object(A.a)(j,2),m=b[0],h=b[1],O=Object(r.useState)([]),g=Object(A.a)(O,2),y=g[0],v=g[1],w=u(window.localStorage.getItem("loginState"));Object(r.useEffect)((function(){if(t)return h(!0),V({name:t}).then((function(e){v(e),h(!1)})).catch((function(e){console.error(e),f.b.error(e&&e.message||"Unknown error"),h(!1)}))}),[t]);return m?Object(k.jsx)("div",{className:"search-item",children:Object(k.jsx)(U.b,{size:"large",wrap:!0,children:Object(k.jsx)(ke.a,{})})}):Array.isArray(y)&&0!==y.length?Object(k.jsxs)("div",{className:"search-item",children:[Object(k.jsx)(U.b,{size:"large",wrap:!0,children:y.slice(c,o).map((function(e){return Object(k.jsx)(M,{itemData:e},"SearchList-"+e.id)}))}),Object(k.jsx)(Re.a,{defaultCurrent:1,defaultPageSize:10,onChange:function(e){e<=1?(i(0),d(10)):(i(10*(e-1)),d(10*(e-1)+10))},total:y.length,style:{textAlign:"center",marginTop:10,marginLeft:"-80px"}})]}):w?Object(k.jsxs)("div",{className:"empty",children:[Object(k.jsx)("h2",{children:"We don\u2019t have anything that matches your query "}),Object(k.jsx)("h3",{children:"Check your spelling and try again or use a more general search term."}),Object(k.jsxs)("h3",{children:["Or, send a",Object(k.jsx)("a",{href:"/#",children:" request form "}),"to us."]}),Object(k.jsx)(ie.a,{title:"Request Form",style:{width:500,margin:"40px 500px 40px auto"},children:Object(k.jsxs)(se.a,{name:"basic",labelCol:{span:6},wrapperCol:{span:12},initialValues:{remember:!0},onFinish:function(e){console.log("Success:",e),f.b.success("Thanks for request!")},onFinishFailed:function(e){console.log("Failed:",e)},autoComplete:"off",children:[Object(k.jsx)(se.a.Item,{label:"Item name",name:"Item",rules:[{required:!0,message:"Please input a item name!"}],children:Object(k.jsx)(p.a,{})}),Object(k.jsx)(se.a.Item,{label:"Brand name",name:"brand",rules:[{required:!0,message:"Please input a brand!"}],children:Object(k.jsx)(p.a,{})}),Object(k.jsx)(se.a.Item,{wrapperCol:{offset:6,span:16},children:Object(k.jsx)(x.a,{type:"primary",htmlType:"submit",children:"Submit"})})]})})]}):Object(k.jsxs)("div",{className:"empty",children:[Object(k.jsx)("h2",{children:"We don\u2019t have anything that matches your query "}),Object(k.jsx)("h3",{children:"Check your spelling and try again or use a more general search term."})]})}),De=j.a.Content,Be=function(){var e=Object(l.g)(),t=te.a.parse(e.search.replace("?",""));return console.log("location",e),console.log("parsedQuery",t),Object(k.jsxs)(De,{style:{marginTop:"64px",padding:"0 50px",minHeight:"720px"},children:[Object(k.jsxs)(F.a,{style:{margin:"16px 0"},children:[Object(k.jsx)(F.a.Item,{children:"Home"}),Object(k.jsx)(F.a.Item,{children:"Search"})]}),Object(k.jsx)(He,{keyword:t.keyword})]})},_e=n(331),Ge=(n(314),j.a.Content),We=function(){var e=b(),t=Object(l.g)(),n=Object(l.f)(),a=Object(r.useMemo)((function(){var e=te.a.parse(t.search.replace("?","")).itemList;return u(e)}),[t]),c=Object(r.useMemo)((function(){return a.reduce((function(e,t){return e+t.price*t.quantity}),0)}),[a]);Object(r.useEffect)((function(){e||n.push("/login")}),[e,n]),Object(r.useEffect)((function(){Array.isArray(a)&&a.length||(f.b.error("Bad request"),n.push("/"))}),[a,n]);var i=_e.a.Panel,d=function(t){var r,i,s;console.log("Success:",t),(r=e.id,i=a.reduce((function(e,t,n){return e["products[".concat(n,"].product_id")]=t.id,e["products[".concat(n,"].price")]=t.price,e["products[".concat(n,"].quantity")]=t.quantity,e}),{}),s=c,W.post("/order/checkout",te.a.stringify(Object(o.a)(Object(o.a)({userId:r},i),{},{amount:s}))).then(G)).then((function(e){console.log("checkout",e),n.push("/eval")})).catch((function(e){f.b.error(e.message)}))};return Object(k.jsxs)(Ge,{style:{padding:"0 50px",minHeight:"95vh"},children:[Object(k.jsx)("h1",{id:"title",children:"Check Out"}),Object(k.jsxs)("div",{className:"checkout-container",children:[Object(k.jsxs)("div",{className:"shipping",children:[Object(k.jsxs)(ie.a,{title:"Ship to",bordered:!1,children:[Object(k.jsx)("p",{children:"Please fill in your shipping information"}),Object(k.jsxs)(se.a,{name:"shipping",wrapperCol:{span:20},onFinish:function(e){console.log("Success:",e)},autoComplete:"off",initialValues:e,children:[Object(k.jsx)(se.a.Item,{name:"name",required:!0,rules:[{required:!0,message:"Please input your full name!"}],children:Object(k.jsx)(p.a,{placeholder:"Full name"})}),Object(k.jsx)(se.a.Item,{name:"phone",required:!0,rules:[{required:!0,message:"Please input your Phone!"}],children:Object(k.jsx)(p.a,{placeholder:"Phone"})}),Object(k.jsx)(se.a.Item,{name:"email",required:!0,rules:[{required:!0,message:"Please input your Email!"}],children:Object(k.jsx)(p.a,{placeholder:"Email"})}),Object(k.jsx)(se.a.Item,{name:"address",required:!0,rules:[{required:!0,message:"Please input your Address!"}],children:Object(k.jsx)(p.a,{placeholder:"Address"})})]})]}),Object(k.jsx)(ie.a,{title:"Pay with",bordered:!1,children:Object(k.jsxs)(_e.a,{defaultActiveKey:["1"],children:[Object(k.jsxs)(i,{showArrow:!1,header:"Debit or credit card",children:[Object(k.jsxs)(se.a,{name:"debit-card",wrapperCol:{offset:1,span:20},onFinish:d,autoComplete:"off",children:[Object(k.jsx)(se.a.Item,{rules:[{required:!0,message:"Please input your full name!"}],children:Object(k.jsx)(p.a,{placeholder:"Card Holder name"})}),Object(k.jsx)(se.a.Item,{rules:[{required:!0,message:"Please input your Phone!"}],children:Object(k.jsx)(p.a,{placeholder:"Card number"})}),Object(k.jsxs)(se.a.Item,{rules:[{required:!0,message:"Please input your Email!"}],children:[Object(k.jsx)(p.a,{placeholder:"Expriy MM/YYYY",style:{width:"46%",marginRight:10}}),Object(k.jsx)(p.a,{placeholder:"Security code",style:{width:"51%"}})]})]}),Object(k.jsx)(x.a,{type:"primary",block:!0,style:{marginTop:20},onClick:d,children:"Place Order"})]},"1"),Object(k.jsx)(i,{showArrow:!1,header:"PayPal",children:Object(k.jsx)(s.b,{to:"/eval",children:Object(k.jsx)(x.a,{type:"primary",htmlType:"submit",block:!0,style:{marginTop:20},children:"Place Order"})})},"2")]})})]}),Object(k.jsx)("div",{className:"Order",children:Object(k.jsxs)(ie.a,{title:"Order Summay",bordered:!1,children:[Object(k.jsxs)("div",{className:"order-summary",children:[a.map((function(e){return Object(k.jsxs)("div",{className:"order-summary-item",children:[Object(k.jsxs)("span",{className:"order-info",children:["Item name: ",Object(k.jsx)(s.b,{to:"/itemInfo?id=".concat(e.id),children:e.name})]}),Object(k.jsxs)("span",{className:"order-info",children:["Quantity: ",e.quantity]}),Object(k.jsxs)("span",{className:"order-info",children:["Price: AU$",h(e.price)]}),Object(k.jsx)(be.a,{})]})})),Object(k.jsxs)("p",{style:{color:"#ff0a54"},children:["Total: AU$",h(c)]})]}),Object(k.jsx)(s.b,{to:"/cart",children:Object(k.jsx)(x.a,{block:!0,children:"Back to Cart"})})]})})]})]})},$e=(n(315),function(){var e=j.a.Content,t=Object(r.useState)([]),n=Object(A.a)(t,2),a=n[0],c=n[1],i=[{title:"Admin ID",dataIndex:"id",key:"id"},{title:"Admin Name",dataIndex:"name",key:"name"},{title:"Email",dataIndex:"email",key:"email"},{title:"Action",key:"action",render:function(e){return Object(k.jsx)(Oe.a,{onClick:function(){s(e)},style:{marginLeft:"30%"}})}}],s=function(e){c((function(t){return t.filter((function(t){return t.key!==e.key}))}))};return Object(r.useEffect)((function(){ne().then((function(e){c(e.map((function(e){return Object(o.a)(Object(o.a)({},e),{},{key:"user-".concat(e.id)})})).filter((function(e){return e.role<=1})))})).catch((function(e){f.b.error(e.message)}))}),[]),Object(k.jsx)(e,{style:{padding:"0 50px",minHeight:"95vh"},children:Object(k.jsxs)("div",{className:"admin-container",children:[Object(k.jsx)("div",{className:"add-admin",children:Object(k.jsx)(ie.a,{title:"Add a New Admin",children:Object(k.jsxs)(se.a,{name:"basic",labelCol:{span:8},wrapperCol:{span:14},onFinish:function(e){console.log(e);var t=e.adminname,n=e.email,r=e.password;if(r===e.confirmPassword)return re({name:t,email:n,password:r,role:1}).then((function(t){var n={key:a.length+1,adminID:56332998,adminName:e.adminname,email:e.email};c((function(e){return[].concat(Object(je.a)(e),[n])}))})).catch((function(e){console.error(e),f.b.error(e&&e.message||"Unknown error")}));f.b.error("password and confirm-password is not same!")},children:[Object(k.jsx)(se.a.Item,{label:"Admin Name",name:"adminname",rules:[{required:!0,message:"Please input username!"}],children:Object(k.jsx)(p.a,{})}),Object(k.jsx)(se.a.Item,{label:"E-Mail",name:"email",rules:[{required:!0,message:"Please input your e-mail!"}],children:Object(k.jsx)(p.a,{type:"email"})}),Object(k.jsx)(se.a.Item,{label:"Password",name:"password",rules:[{required:!0,message:"Please input password!"}],children:Object(k.jsx)(p.a.Password,{})}),Object(k.jsx)(se.a.Item,{label:"Confirm Password",name:"confirmPassword",rules:[{required:!0,message:"Please input your confirm password!"}],children:Object(k.jsx)(p.a.Password,{})}),Object(k.jsx)(se.a.Item,{wrapperCol:{offset:6,span:14},children:Object(k.jsx)(x.a,{id:"login-button",type:"primary",htmlType:"submit",children:"Add"})})]})})}),Object(k.jsxs)("div",{className:"delete-admin",children:[Object(k.jsx)("h2",{children:"Admin List"}),Object(k.jsx)(me.a,{columns:i,dataSource:a,size:"middle",pagination:{pageSize:10,size:"small"},id:"admin-table"})]})]})})}),Ye=n(339),Ve=(n(316),j.a.Content),Qe=p.a.TextArea,Je=function(){var e=Object(l.f)(),t=Object(l.g)(),n=te.a.parse(t.search.replace("?","")),a=n&&n.orderId,c=Object(r.useState)(null),i=Object(A.a)(c,2),d=i[0],j=i[1],u=function(e,t,n){var r=Object(je.a)(d);r[e][t]=n,j(r)};return Object(r.useEffect)((function(){a?function(e){return W.get("/order/viewById",{params:{order_id:e}}).then(G)}(a).then((function(e){if(console.log(e),!e||!Array.isArray(e.orderdetail))throw new Error("Invalid response");return Promise.all(e.orderdetail.map((function(e){return V({id:e.productid}).then((function(t){var n=Object(A.a)(t,1)[0];return Object(o.a)(Object(o.a)({},e),{},{name:n.name,imgUrl:n.imgUrl})}))})))})).then((function(e){return j(e)})).catch((function(e){f.b.error(e.message)})):e.push("/")}),[a,e]),Object(k.jsxs)(Ve,{style:{padding:"0 50px",minHeight:"720px"},children:[Object(k.jsx)("h1",{id:"title",children:"How's your shopping experience?"}),Object(k.jsxs)("div",{className:"eval-box",children:[Object(k.jsx)(ie.a,{title:"Evaluation",bordered:!1,children:Object(k.jsx)("div",{className:"eval-area",children:Array.isArray(d)?d.map((function(e,t){return Object(k.jsxs)("div",{children:[Object(k.jsx)(ge.a,{width:80,src:e.imgUrl}),Object(k.jsxs)("div",{className:"eval-info-block",children:[Object(k.jsxs)("span",{children:[e.name," x ",e.quantity]}),Object(k.jsx)(Fe.a,{character:Object(k.jsx)(Ye.a,{}),value:e.stars,onChange:function(e){return u(t,"stars",e)}})]}),Object(k.jsx)(Qe,{placeholder:"Comment",value:e.comment,onChange:function(e){return u(t,"comment",e.target.value)},style:{marginLeft:10}})]},"comment-".concat(e.id))})):null})}),Object(k.jsx)("div",{className:"bot-area",children:Object(k.jsxs)(U.b,{size:40,children:[Object(k.jsx)(x.a,{type:"primary",onClick:function(){var t,n=Object(R.a)(d);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.stars&&r.comment&&Ee(a,r.productid,r.stars,r.comment).then((function(){f.b.success("Success!"),e.push("/user")})).catch((function(e){f.b.error(e.message)}))}}catch(c){n.e(c)}finally{n.f()}},children:"Submit"}),Object(k.jsx)(s.b,{to:"/",children:Object(k.jsx)(x.a,{children:"Not this time"})})]})})]})]})},Ke=(n(317),function(){var e=Object(l.f)(),t=Object(l.g)(),n=te.a.parse(t.search.replace("?","")),a=n&&n.id,c=Object(r.useState)(null),i=Object(A.a)(c,2),s=i[0],d=i[1],u=Object(r.useState)([]),b=Object(A.a)(u,2),m=b[0],p=b[1],O=Object(r.useState)([]),g=Object(A.a)(O,2),y=g[0],v=g[1];Object(r.useEffect)((function(){var t;a?Promise.all([V({id:a}),ze(a),(t=a,W.get("/order/viewByProductId",{params:{product_id:t}}).then(G))]).then((function(e){var t=Object(A.a)(e,3),n=Object(A.a)(t[0],1)[0],r=t[1],a=t[2];d(n),p(r),v(a)})).catch((function(e){console.error(e),f.b.error("Query Error: ".concat(e.message))})):e.push("/admin")}),[a,e]);var w=j.a.Content,I=[{title:"Order ID",dataIndex:"orderId",key:"orderId"},{title:"Order Date",dataIndex:"orderTime",key:"orderTime",render:function(e){return Pe()(e).toLocaleString()}},{title:"Total",dataIndex:"totalPrice",key:"totalPrice",render:function(e){return"AU$"+h(e)}}],S=[{title:"orderId",dataIndex:"order_Id",key:"order_Id"},{title:"Content",dataIndex:"comment",key:"comment",width:200,ellipsis:{showTitle:!1},render:function(e){return Object(k.jsx)(Ae.a,{placement:"topLeft",title:e,children:e})}},{title:"Rate",dataIndex:"stars",key:"rate",width:150,render:function(e){return Object(k.jsx)(Fe.a,{value:e})}},{title:"Action",key:"action",render:function(e,t,n){return Object(k.jsx)(x.a,{type:"text",onClick:function(){return function(e){var t=m.filter((function(t,n){return n!==e}));p(t)}(n)},children:"Delete"})}}];return Object(k.jsx)(w,{style:{padding:"0 50px",minHeight:"95vh"},children:Object(k.jsxs)("div",{className:"item-manage-container",children:[Object(k.jsxs)("div",{className:"item-orders",children:[s?Object(k.jsxs)(r.Fragment,{children:[Object(k.jsxs)("h2",{children:[s.id," ",s.name]}),Object(k.jsxs)("div",{className:"item-info",children:[Object(k.jsxs)("span",{children:[Object(k.jsx)("b",{children:"Stock: "})," ",s.stock," "]}),Object(k.jsxs)("span",{children:[Object(k.jsx)("b",{children:"Sales: "})," ",s.saleNum.toLocaleString("en-US"),"  "]})]})]}):null,Object(k.jsx)(me.a,{columns:I,dataSource:y.map((function(e){return Object(o.a)(Object(o.a)({},e),{},{key:"order-".concat(e.orderId)})})),size:"middle",pagination:{pageSize:10,size:"small"}})]}),Object(k.jsxs)("div",{className:"item-comments",children:[Object(k.jsx)("h2",{children:"Comments List"}),Object(k.jsx)(me.a,{columns:S,dataSource:m.map((function(e){return Object(o.a)(Object(o.a)({},e),{},{key:"item-".concat(e.order_Id)})})),size:"middle",pagination:{pageSize:10,size:"small"}})]})]})})});n(318);var Xe=function(){return Object(k.jsx)(s.a,{children:Object(k.jsxs)(l.c,{children:[Object(k.jsx)(q,{path:"/admin",component:xe}),Object(k.jsx)(q,{path:"/adminManage",component:$e}),Object(k.jsx)(q,{path:"/itemManage",component:Ke}),Object(k.jsx)(q,{path:"/user",component:fe}),Object(k.jsx)(q,{path:"/login",component:oe}),Object(k.jsx)(q,{path:"/reg",component:de}),Object(k.jsx)(q,{path:"/questionaire",component:Ne}),Object(k.jsx)(q,{path:"/itemInfo",component:Me}),Object(k.jsx)(q,{path:"/search",component:Be}),Object(k.jsx)(q,{path:"/cart",component:ve}),Object(k.jsx)(q,{path:"/checkout",component:We}),Object(k.jsx)(q,{path:"/eval",component:Je}),Object(k.jsx)(q,{path:"/",component:Z})]})})};i.a.render(Object(k.jsx)(a.a.StrictMode,{children:Object(k.jsx)(Xe,{})}),document.getElementById("root"))}},[[319,1,2]]]);
//# sourceMappingURL=main.c1fe0633.chunk.js.map